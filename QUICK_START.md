# VaultSafe åŒæ­¥æœåŠ¡å™¨ - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ä¸€ã€å®‰è£…ä¾èµ–

```bash
pip install -r requirements-server.txt
```

æˆ–æ‰‹åŠ¨å®‰è£…ï¼š
```bash
pip install flask flask-cors
```

## äºŒã€å¯åŠ¨æœåŠ¡å™¨

### Windows ç”¨æˆ·ï¼ˆæœ€ç®€å•ï¼‰
ç›´æ¥åŒå‡»è¿è¡Œ `start_server.bat`

### å‘½ä»¤è¡Œå¯åŠ¨
```bash
python sync_server.py
```

### å¯åŠ¨åè¾“å‡ºç¤ºä¾‹
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            VaultSafe åŒæ­¥æœåŠ¡å™¨                          â•‘
â•‘                                                            â•‘
â•‘  ä¸€ä¸ªç®€å•çš„ Flask æœåŠ¡å™¨ï¼Œç”¨äºå­˜å‚¨åŠ å¯†çš„å¯†ç å¤‡ä»½        â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ æ•°æ®æ–‡ä»¶: D:\vaultsafe_sync.json
ğŸŒ æœåŠ¡åœ°å€: http://localhost:5000/sync
ğŸ“Š çŠ¶æ€æŸ¥è¯¢: http://localhost:5000/status
âš ï¸  è­¦å‘Š: æœªå¯ç”¨è®¤è¯ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®æ•°æ®ï¼

å¯åŠ¨æœåŠ¡å™¨...
 * Running on http://0.0.0.0:5000
```

## ä¸‰ã€åœ¨ VaultSafe ä¸­é…ç½®

1. æ‰“å¼€ VaultSafe
2. è¿›å…¥ã€ŒåŒæ­¥ã€æ ‡ç­¾é¡µ
3. ç‚¹å‡»ã€Œé…ç½®ã€æŒ‰é’®
4. å¡«å†™æœåŠ¡å™¨åœ°å€ï¼š
   ```
   http://localhost:5000/sync
   ```
5. é€‰æ‹©è®¤è¯æ–¹å¼ï¼š
   - **æ— è®¤è¯**ï¼šç›´æ¥ç‚¹å‡»ã€Œæµ‹è¯•è¿æ¥ã€
   - **Bearer Token**ï¼šè¾“å…¥Tokenåæµ‹è¯•
   - **Basic Auth**ï¼šè¾“å…¥ç”¨æˆ·åå’Œå¯†ç åæµ‹è¯•
6. ä¿å­˜é…ç½®
7. ç‚¹å‡»ã€Œä¸Šä¼ ã€ä¸Šä¼ æ•°æ®

## å››ã€æ·»åŠ è®¤è¯ï¼ˆæ¨èï¼‰

### Windows - ä¿®æ”¹ start_server.bat
ç¼–è¾‘ `start_server.bat`ï¼Œæ‰¾åˆ°é…ç½®åŒºåŸŸï¼š
```batch
REM Bearer Token è®¤è¯
set TOKEN=your-secret-token-here
```

### Linux/Mac - ä½¿ç”¨ç¯å¢ƒå˜é‡
```bash
export VAULTSAFE_API_TOKEN="your-secret-token-here"
python sync_server.py
```

## äº”ã€æ•°æ®æ–‡ä»¶

åŒæ­¥æ•°æ®ä¿å­˜åœ¨å½“å‰ç›®å½•çš„ `vaultsafe_sync.json` æ–‡ä»¶ä¸­ã€‚

**æ•°æ®æ ¼å¼ç¤ºä¾‹ï¼š**
```json
{
  "data": {
    "nonce": "device-id",
    "encrypted": true,
    "version": "1.0",
    "exportedAt": "2024-01-01T00:00:00.000Z",
    "checksum": "abc123..."
  },
  "last_updated": "2024-01-01T12:00:00.000Z",
  "device_info": {
    "device-1": {
      "last_upload": "2024-01-01T12:00:00.000Z",
      "timestamp": 1704067200
    }
  }
}
```

## å…­ã€API ç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/sync` | POST | ä¸Šä¼ æ•°æ® |
| `/sync` | GET | ä¸‹è½½æ•°æ® |
| `/status` | GET | æŸ¥çœ‹çŠ¶æ€ |
| `/clear` | POST | æ¸…é™¤æ•°æ® |

## ä¸ƒã€æ•…éšœæ’é™¤

### ç«¯å£è¢«å ç”¨
ä¿®æ”¹ `start_server.bat` ä¸­çš„ç«¯å£ï¼š
```batch
set PORT=8080
```

### è¿æ¥è¢«æ‹’ç»
1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. ç¡®è®¤ç«¯å£å·æ­£ç¡®

### è®¤è¯å¤±è´¥
1. ç¡®è®¤ Token/ç”¨æˆ·åå¯†ç æ­£ç¡®
2. æ£€æŸ¥ VaultSafe ä¸­çš„è®¤è¯æ–¹å¼è®¾ç½®
